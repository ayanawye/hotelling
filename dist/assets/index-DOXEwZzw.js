import{r,j as e,B as f,P as g}from"./index-CbnrRa6C.js";import{h as c,i as j,I as T,S,T as I}from"./organizationTypesApi-BjGicNoR.js";import{D as P,T as b}from"./TableActions-B_fl8NNI.js";import{S as k}from"./SelectWithSearch-BkX9hQR8.js";import{A as v}from"./index-BaXxuMV4.js";const D=()=>{const{data:t}=c(),[s,{isLoading:d}]=j(),[n,l]=r.useState({search:""}),[p,o]=r.useState(!1),[i,y]=r.useState(null),m=async()=>{try{await s(i?.id||1).unwrap(),o(!1)}catch(a){console.log(a)}};console.log(t);const x=[{title:"Тип оплаты",dataIndex:"type",key:"type"},{title:"Код",dataIndex:"code",key:"code"},{title:"Название операции",dataIndex:"operation",key:"operation"},{title:"Действия",key:"actions",render:(a,h)=>e.jsx(b,{record:h,setSelectedItem:y,setDeleteModalOpen:o,editLink:"edit"})}],u=e.jsxs("div",{className:"table-header",children:[e.jsx(T,{value:n.search,onChange:a=>l({...n,search:a.target.value}),placeholder:"Поиск",prefixIcon:e.jsx(S,{})}),e.jsxs("div",{className:"table-header-filter",children:[e.jsx(k,{placeholder:"Тип оплаты",maxTagPlaceholder:()=>"Цвет статуса номера",onChange:()=>l({...n}),options:[{value:"INV-1001",label:"INV-1001"}]}),e.jsx(f,{type:"primary",style:{height:"40px",borderRadius:"20px",padding:"0 24px",backgroundColor:"#2563EB"},children:"Создать"})]})]});return e.jsxs(e.Fragment,{children:[e.jsx(I,{title:u,data:t,columns:x,loading:!1}),e.jsx(P,{isOpen:p,onClose:()=>o(!1),onDelete:m,title:"Удалить тип оплаты?",isLoading:d,description:`Тип оплаты "${i?.type}" будет удален из системы.`})]})},N=()=>{const{isError:t,isLoading:s}=c();return s?e.jsx(g,{}):t?e.jsx(v,{title:"Ошибка загрузки типов оплат",type:"error"}):e.jsx(D,{})};export{N as default};
