import{r as o,j as e,P as y}from"./index-CbnrRa6C.js";import{l as c,m as f,I as j,S as T,T as S}from"./organizationTypesApi-BjGicNoR.js";import{B as I,D as O,T as b}from"./TableActions-B_fl8NNI.js";import{S as v}from"./SelectWithSearch-BkX9hQR8.js";import{A as D}from"./index-BaXxuMV4.js";const N=()=>{const{data:a}=c(),[s,{isLoading:d}]=f(),[r,l]=o.useState({search:""}),[p,n]=o.useState(!1),[i,m]=o.useState(null),x=async()=>{try{await s(i?.id||1).unwrap(),n(!1)}catch(t){console.log(t)}},u=[{title:"Название",dataIndex:"name",key:"name"},{title:"Код",dataIndex:"code",key:"code"},{title:"Название операции",dataIndex:"operationName",key:"operationName"},{title:"Действия",key:"actions",render:(t,g)=>e.jsx(b,{record:g,setSelectedItem:m,setDeleteModalOpen:n,editLink:"edit"})}],h=e.jsxs("div",{className:"table-header",children:[e.jsx(j,{value:r.search,onChange:t=>l({...r,search:t.target.value}),placeholder:"Поиск",prefixIcon:e.jsx(T,{})}),e.jsxs("div",{className:"table-header-filter",children:[e.jsx(v,{placeholder:"Search",onChange:()=>l({...r}),options:[{value:"INV-1001",label:"INV-1001"}]}),e.jsx(I,{variant:"primary",children:"Создать"})]})]});return e.jsxs(e.Fragment,{children:[e.jsx(S,{title:h,data:a,columns:u,loading:!1}),e.jsx(O,{isOpen:p,onClose:()=>n(!1),onDelete:x,title:"Удалить тип организации?",isLoading:d,description:`Тип организации "${i?.name}" будет удален из системы.`})]})},A=()=>{const{isError:a,isLoading:s}=c();return s?e.jsx(y,{}):a?e.jsx(D,{title:"Ошибка загрузки организаций",type:"error"}):e.jsx(N,{})};export{A as default};
