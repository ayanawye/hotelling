import{u as j,r as i,j as e,P as y}from"./index-CbnrRa6C.js";import{n as c,o as I,I as S,S as v,T as k}from"./organizationTypesApi-BjGicNoR.js";import{B as b,D as O,T}from"./TableActions-B_fl8NNI.js";import{S as z}from"./SelectWithSearch-BkX9hQR8.js";import{A as D}from"./index-BaXxuMV4.js";const C=()=>{const a=j(),{data:n}=c(),[d,{isLoading:p}]=I(),[s,o]=i.useState({search:"",type:void 0}),[x,r]=i.useState(!1),[l,u]=i.useState(null),m=async()=>{try{await d(l?.id||1).unwrap(),r(!1)}catch(t){console.log(t)}},g=[{title:"Название",dataIndex:"name",key:"name"},{title:"Тип клиента",dataIndex:["organization_type","name"],key:"organization_type"},{title:"ИНН",dataIndex:"inn",key:"inn"},{title:"Банк",dataIndex:"bank",key:"bank"},{title:"Расч-ь",dataIndex:"account",key:"account"},{title:"Действия",key:"actions",render:(t,f)=>e.jsx(T,{record:f,setSelectedItem:u,setDeleteModalOpen:r,editLink:"edit"})}],h=e.jsxs("div",{className:"table-header",children:[e.jsx("div",{style:{display:"flex",gap:"16px"},children:e.jsx(S,{value:s.search,onChange:t=>o({...s,search:t.target.value}),placeholder:"Поиск",prefixIcon:e.jsx(v,{})})}),e.jsxs("div",{className:"table-header-filter",children:[e.jsx(z,{placeholder:"Search",onChange:()=>o({...s}),options:[{value:"INV-1001",label:"INV-1001"}]}),e.jsx(b,{variant:"primary",onClick:()=>a("create"),children:"Создать"})]})]});return e.jsxs(e.Fragment,{children:[e.jsx(k,{title:h,data:n,columns:g,loading:!1}),e.jsx(O,{isOpen:x,onClose:()=>r(!1),onDelete:m,title:"Удалить организацию?",isLoading:p,description:`Организация "${l?.name}" будет удален из системы.`})]})},F=()=>{const{isError:a,isLoading:n}=c();return n?e.jsx(y,{}):a?e.jsx(D,{title:"Ошибка загрузки организаций",type:"error"}):e.jsx(C,{})};export{F as default};
