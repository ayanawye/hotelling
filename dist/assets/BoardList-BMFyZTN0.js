import{r as s,u as x,a as p,j as t,P as C}from"./index-CbnrRa6C.js";import{v as i,I as j,S as v,T as b,w as n,D as y}from"./organizationTypesApi-BjGicNoR.js";import{R as f,S as I,b as S,c as w,d as L}from"./tableLabels-BaYJlpc8.js";import{T}from"./index-hJjDEiK8.js";import{A as _}from"./index-BaXxuMV4.js";const E=o=>s.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o},s.createElement("path",{d:"M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z",stroke:"black",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M12 6C12.5523 6 13 5.55228 13 5C13 4.44772 12.5523 4 12 4C11.4477 4 11 4.44772 11 5C11 5.55228 11.4477 6 12 6Z",stroke:"black",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M12 20C12.5523 20 13 19.5523 13 19C13 18.4477 12.5523 18 12 18C11.4477 18 11 18.4477 11 19C11 19.5523 11.4477 20 12 20Z",stroke:"black",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),D="DD/MM/YYYY",Y=()=>{const{data:o}=i(),a=x(),{bookingStatusTagStyle:l}=p(),[d,c]=s.useState({search:""}),u=e=>[{key:"add-service",label:"Добавить услугу",icon:t.jsx(I,{}),onClick:()=>console.log("Add service",e)},{key:"laundry-order",label:"Заказ в прачку",icon:t.jsx(S,{}),onClick:()=>console.log("Laundry order",e)},{key:"edit",label:"Изменить",icon:t.jsx(w,{}),onClick:()=>a("/bookings/create")},{key:"delete",label:"Удалить",icon:t.jsx(L,{}),danger:!0,onClick:()=>a(`/bookings/edit/${e.id}`)}],g=[{title:"Гость",key:"guest",width:"25%",render:(e,r)=>`${r.guest.last_name} ${r.guest.first_name}`},{title:"Гостей",key:"guestsCount",width:"13%",render:(e,r)=>(r.adults??0)+(r.children??0)+(r.infants??0)},{title:"Номер",dataIndex:"room",key:"room",width:"13%",render:e=>e??"—"},{title:"Заезд",dataIndex:"arrival_datetime",key:"arrival_datetime",width:"15%",render:e=>e?n(e).format("DD.MM.YYYY"):"—"},{title:"Выезд",dataIndex:"departure_datetime",key:"departure_datetime",width:"15%",render:e=>e?n(e).format(D):"—"},{title:"Статус",dataIndex:"status",key:"status",width:"20%",render:e=>{const{label:r,bgColor:m,textColor:h}=f[e];return t.jsx(T,{style:{...l,background:m,color:h},children:r})}},{title:"Действия",key:"actions",width:"10%",render:(e,r)=>t.jsx(y,{menu:{items:u(r)},placement:"bottomRight",trigger:["click"],children:t.jsx(E,{})})}],k=t.jsx("div",{className:"table-header",children:t.jsx(j,{value:d.search,onChange:e=>c({search:e.target.value}),placeholder:"Поиск",prefixIcon:t.jsx(v,{})})});return t.jsx(b,{title:k,data:o,columns:g,loading:!1})},N=()=>{const{isLoading:o,isError:a}=i();return o?t.jsx(C,{}):a?t.jsx(_,{title:"Ошибка загрузки бронирований",type:"error"}):t.jsx(Y,{})};export{N as default};
