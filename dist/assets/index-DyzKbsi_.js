import{r as n,j as e,B as j,P as g}from"./index-CbnrRa6C.js";import{c,d as y,I,S,T as F}from"./organizationTypesApi-BjGicNoR.js";import{D as b,T as D}from"./TableActions-B_fl8NNI.js";import{S as T}from"./SelectWithSearch-BkX9hQR8.js";import{A as v}from"./index-BaXxuMV4.js";const k=()=>{const{data:o}=c(),[s,{isLoading:p}]=y(),[l,i]=n.useState({search:"",enclosure:void 0}),[u,a]=n.useState(!1),[d,x]=n.useState(null),h=async()=>{try{await s(d?.id||1).unwrap(),a(!1)}catch(t){console.log(t)}},m=[{title:"ID",dataIndex:"id",key:"id"},{title:"Корпус",dataIndex:"enclosure",key:"enclosure",render:(t,r)=>r.hull?.name||"-"},{title:"Этаж",dataIndex:"floor",key:"floor"},{title:"Действия",key:"actions",render:(t,r)=>e.jsx(D,{record:r,setSelectedItem:x,setDeleteModalOpen:a,editLink:"edit"})}],f=e.jsxs("div",{className:"table-header",children:[e.jsx(I,{value:l.search,onChange:t=>i({...l,search:t.target.value}),placeholder:"Поиск",prefixIcon:e.jsx(S,{})}),e.jsxs("div",{className:"table-header-filter",children:[e.jsx(T,{placeholder:"Корпус",maxTagPlaceholder:()=>"Цвет статуса номера",onChange:t=>i({...l,enclosure:t}),options:[{value:"INV-1001",label:"INV-1001"}]}),e.jsx(j,{type:"primary",style:{display:"flex",alignItems:"center",height:"40px",borderRadius:"20px",padding:"0 24px",backgroundColor:"#2B63D9"},children:e.jsx("span",{children:"Создать"})})]})]});return e.jsxs(e.Fragment,{children:[e.jsx(F,{title:f,data:o,columns:m,loading:!1,rowKey:"id"}),e.jsx(b,{isOpen:u,onClose:()=>a(!1),onDelete:h,title:"Удалить этаж?",isLoading:p,description:`Этаж "${d?.floor}" будет удален из системы.`})]})},w=()=>{const{isError:o,isLoading:s}=c();return s?e.jsx(g,{}):o?e.jsx(v,{title:"Ошибка загрузки гостей",type:"error"}):e.jsx(k,{})};export{w as default};
