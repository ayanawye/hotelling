import{r as i,j as e,B as j,S as y,P as g}from"./index-CbnrRa6C.js";import{e as o,f as T,I as S,S as I,T as b}from"./organizationTypesApi-BjGicNoR.js";import{D as k,T as v}from"./TableActions-B_fl8NNI.js";import{S as w}from"./SelectWithSearch-BkX9hQR8.js";import{A as C}from"./index-BaXxuMV4.js";const D=()=>{const{data:a}=o(),[s,{isLoading:c}]=T(),[n,l]=i.useState({search:"",select:void 0}),[x,r]=i.useState(!1),[d,p]=i.useState(null),h=async()=>{try{await s(d?.id||1).unwrap(),r(!1)}catch(t){console.log(t)}},u=[{title:"Код",dataIndex:"code",key:"code",width:"12%"},{title:"Название",dataIndex:"name",key:"name",width:"15%"},{title:"Процент",dataIndex:"percent",key:"percent",width:"13%"},{title:"Включить в стоимость",dataIndex:"status",key:"status",width:"20%",render:t=>e.jsx(y,{checked:t==="included",style:{backgroundColor:t==="included"?"#52C41A":void 0}})},{title:"Примечание",dataIndex:"description",key:"description",width:"20%"},{title:"Действия",key:"actions",width:"20%",render:(t,f)=>e.jsx(v,{record:f,setSelectedItem:p,setDeleteModalOpen:r,editLink:"edit"})}],m=e.jsxs("div",{className:"table-header",children:[e.jsx("div",{style:{display:"flex",gap:"16px"},children:e.jsx(S,{value:n.search,onChange:t=>l({...n,search:t.target.value}),placeholder:"Поиск",prefixIcon:e.jsx(I,{})})}),e.jsxs("div",{className:"table-header-filter",children:[e.jsx(w,{placeholder:"Налоги",onChange:()=>l({...n}),options:[{value:"INV-1001",label:"INV-1001"}]}),e.jsx(j,{type:"primary",style:{height:"40px",borderRadius:"20px",padding:"0 24px",backgroundColor:"#2563EB"},children:"Создать"})]})]});return e.jsxs(e.Fragment,{children:[e.jsx(b,{title:m,data:a,columns:u,loading:!1}),e.jsx(k,{isOpen:x,onClose:()=>r(!1),onDelete:h,title:"Удалить налог?",isLoading:c,description:`Налог с номером "${d?.id}" будет удален из системы.`})]})},N=()=>{const{isError:a,isLoading:s}=o();return s?e.jsx(g,{}):a?e.jsx(C,{title:"Ошибка загрузки налогов",type:"error"}):e.jsx(D,{})};export{N as default};
