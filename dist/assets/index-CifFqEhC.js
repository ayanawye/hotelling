import{a as S,u as k,r as i,j as e,B as C,s as I,P as D}from"./index-CbnrRa6C.js";import{q as x,r as _,I as v,S as w,T as O}from"./organizationTypesApi-BjGicNoR.js";import{R as m,S as R}from"./constants-DjFwyy2P.js";import{D as N,T as M}from"./TableActions-B_fl8NNI.js";import{S as L}from"./SelectWithSearch-BkX9hQR8.js";import{T as W}from"./index-hJjDEiK8.js";import{A}from"./index-BaXxuMV4.js";const B="_optionWrapper_11i7o_1",F="_colorDot_11i7o_8",H="_label_11i7o_15",a={optionWrapper:B,colorDot:F,label:H},E=()=>{const{bookingStatusTagStyle:s}=S(),r=k(),{data:u}=x(),[h,{isLoading:y}]=_(),[l,c]=i.useState({search:"",color:[]}),[g,n]=i.useState(!1),[d,j]=i.useState(null),f=async()=>{try{await h(d?.id||1).unwrap(),n(!1)}catch{I.error("Удаление невозможно")}},b=[{title:"ID",dataIndex:"id",key:"id",width:"11%"},{title:"Название",dataIndex:"name",key:"name",width:"15%"},{title:"Код",dataIndex:"code",key:"code",width:"14%"},{title:"Цвет типа номера",dataIndex:"color",key:"color",width:"20%",render:(t,o)=>{const p=m[t];return e.jsx(W,{style:{...s,color:p.color,backgroundColor:p.backgroundColor},children:o.name})}},{title:"Описание",dataIndex:"description",key:"description",width:"20%"},{title:"Действия",key:"actions",width:"20%",render:(t,o)=>e.jsx(M,{record:o,setSelectedItem:j,setDeleteModalOpen:n,editLink:"edit"})}],T=e.jsxs("div",{className:"table-header",children:[e.jsx(v,{value:l.search,onChange:t=>c({...l,search:t.target.value}),placeholder:"Поиск",prefixIcon:e.jsx(w,{})}),e.jsxs("div",{className:"table-header-filter",children:[e.jsx(L,{mode:"multiple",maxTagCount:0,maxTagPlaceholder:()=>"Цвет типа номера",allowClear:!0,suffixIcon:e.jsx(R,{}),className:a.filter,placeholder:"Цвет типа номера",onChange:t=>c({...l,color:t}),options:Object.entries(m).map(([t,o])=>({value:t,label:e.jsxs("div",{className:a.optionWrapper,children:[e.jsx("div",{className:a.colorDot,style:{backgroundColor:o.backgroundColor}}),e.jsx("span",{className:a.label,children:o.label})]})}))}),e.jsx(C,{type:"primary",onClick:()=>r("create"),style:{display:"flex",alignItems:"center",height:"40px",borderRadius:"20px",padding:"0 24px",backgroundColor:"#2B63D9"},children:e.jsx("span",{children:"Создать"})})]})]});return e.jsxs(e.Fragment,{children:[e.jsx(O,{title:T,data:u,columns:b,loading:!1,rowKey:"id"}),e.jsx(N,{isOpen:g,onClose:()=>n(!1),onDelete:f,title:"Удалить тип номера?",isLoading:y,description:`Тип номера "${d?.name}" будет удален из системы.`})]})},J=()=>{const{isError:s,isLoading:r}=x();return r?e.jsx(D,{}):s?e.jsx(A,{title:"Ошибка загрузки гостей",type:"error"}):e.jsx(E,{})};export{J as default};
