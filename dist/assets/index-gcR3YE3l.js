import{u as g,r,j as e,P as E}from"./index-CbnrRa6C.js";import{u as i,b as y,I,S,T as v}from"./organizationTypesApi-BjGicNoR.js";import{B as D,D as T,T as b}from"./TableActions-B_fl8NNI.js";import{A as k}from"./index-BaXxuMV4.js";const L=()=>{const s=g(),{data:a}=i(),[c,{isLoading:d}]=y(),[o,u]=r.useState({search:""}),[x,n]=r.useState(!1),[l,p]=r.useState(null),m=async()=>{try{await c(l?.id||1).unwrap(),n(!1)}catch(t){console.log(t)}},j=[{title:"ID",dataIndex:"id",key:"id"},{title:"Название",dataIndex:"name",key:"name"},{title:"Действия",key:"actions",render:(t,h)=>e.jsx(b,{setSelectedItem:p,record:h,setDeleteModalOpen:n,editLink:"edit"})}],f=e.jsxs("div",{className:"table-header",children:[e.jsx(I,{value:o.search,onChange:t=>u({...o,search:t.target.value}),placeholder:"Поиск",prefixIcon:e.jsx(S,{})}),e.jsx(D,{variant:"primary",onClick:()=>s("create"),children:e.jsx("span",{children:"Создать"})})]});return e.jsxs(e.Fragment,{children:[e.jsx(v,{title:f,data:a,columns:j,loading:!1,rowKey:"id"}),e.jsx(T,{isOpen:x,onClose:()=>n(!1),onDelete:m,title:"Удалить корпус?",isLoading:d,description:`Корпус "${l?.name}" будет удален из системы.`})]})},A=()=>{const{isError:s,isLoading:a}=i();return a?e.jsx(E,{}):s?e.jsx(k,{title:"Ошибка загрузки гостей",type:"error"}):e.jsx(L,{})};export{A as default};
